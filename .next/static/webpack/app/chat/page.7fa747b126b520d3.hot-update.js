"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/page",{

/***/ "(app-pages-browser)/./src/components/MessageInput.tsx":
/*!*****************************************!*\
  !*** ./src/components/MessageInput.tsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MessageInput; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _providers_SocketProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/providers/SocketProvider */ \"(app-pages-browser)/./src/providers/SocketProvider.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction MessageInput(param) {\n    let { onSendMessage, roomId, editingMessage, editingContent, onCancelEdit } = param;\n    _s();\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showAttachMenu, setShowAttachMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedFiles, setSelectedFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const { startTyping, stopTyping } = (0,_providers_SocketProvider__WEBPACK_IMPORTED_MODULE_2__.useSocket)();\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const typingTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (editingContent) {\n            var _inputRef_current;\n            setMessage(editingContent);\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    }, [\n        editingContent\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (menuRef.current && !menuRef.current.contains(event.target)) {\n                setShowAttachMenu(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            selectedFiles.forEach((f)=>{\n                if (f.previewUrl) URL.revokeObjectURL(f.previewUrl);\n            });\n        };\n    }, []);\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        if (selectedFiles.length > 0) {\n            const files = selectedFiles.map((f)=>f.file);\n            const hasImage = files.some((f)=>f.type.startsWith(\"image/\") || f.name.toLowerCase().match(/\\.(heic|heif)$/));\n            onSendMessage(message.trim(), hasImage ? \"image\" : \"file\", files);\n            handleClearFiles();\n            setMessage(\"\");\n        } else if (message.trim()) {\n            onSendMessage(message.trim());\n            setMessage(\"\");\n        }\n        handleStopTyping();\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleTyping = ()=>{\n        if (!isTyping) {\n            setIsTyping(true);\n            startTyping(roomId);\n        }\n        if (typingTimeoutRef.current) {\n            clearTimeout(typingTimeoutRef.current);\n        }\n        typingTimeoutRef.current = setTimeout(()=>{\n            handleStopTyping();\n        }, 2000);\n    };\n    const handleStopTyping = ()=>{\n        if (isTyping) {\n            setIsTyping(false);\n            stopTyping(roomId);\n            if (typingTimeoutRef.current) {\n                clearTimeout(typingTimeoutRef.current);\n            }\n        }\n    };\n    const handleChange = (e)=>{\n        setMessage(e.target.value);\n        handleTyping();\n    };\n    const handleCancelEdit = ()=>{\n        setMessage(\"\");\n        onCancelEdit();\n    };\n    const convertHeic = async (blob)=>{\n        const heic2any = (await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_heic2any_dist_heic2any_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! heic2any */ \"(app-pages-browser)/./node_modules/heic2any/dist/heic2any.js\", 23))).default;\n        const result = await heic2any({\n            blob,\n            toType: \"image/jpeg\",\n            quality: 0.9\n        });\n        return Array.isArray(result) ? result[0] : result;\n    };\n    const handleFileSelect = async (e)=>{\n        const files = e.target.files;\n        if (!files || files.length === 0) return;\n        setShowAttachMenu(false);\n        let totalSize = selectedFiles.reduce((sum, f)=>sum + f.file.size, 0);\n        const newFiles = [];\n        const fileArray = Array.from(files);\n        for (const file of fileArray){\n            if (file.size > 20 * 1024 * 1024) {\n                alert(\"\".concat(file.name, \" 超過 20MB，已跳過\"));\n                continue;\n            }\n            totalSize += file.size;\n            if (totalSize > 50 * 1024 * 1024) {\n                alert(\"總檔案大小不能超過 50MB\");\n                break;\n            }\n            const ext = file.name.toLowerCase().split(\".\").pop();\n            const isHeic = ext === \"heic\" || ext === \"heif\";\n            const isImage = file.type.startsWith(\"image/\") || isHeic;\n            const fileWithPreview = {\n                file,\n                previewUrl: null,\n                isConverting: isImage\n            };\n            newFiles.push(fileWithPreview);\n        }\n        e.target.value = \"\";\n        if (newFiles.length === 0) return;\n        setSelectedFiles((prev)=>[\n                ...prev,\n                ...newFiles\n            ]);\n        for (const fileInfo of newFiles){\n            const file = fileInfo.file;\n            const ext = file.name.toLowerCase().split(\".\").pop();\n            const isHeic = ext === \"heic\" || ext === \"heif\";\n            try {\n                let previewUrl = null;\n                if (isHeic) {\n                    const convertedBlob = await convertHeic(file);\n                    previewUrl = URL.createObjectURL(convertedBlob);\n                } else if (file.type.startsWith(\"image/\")) {\n                    previewUrl = URL.createObjectURL(file);\n                }\n                setSelectedFiles((prev)=>prev.map((f)=>f.file.name === file.name && f.file.size === file.size ? {\n                            ...f,\n                            previewUrl,\n                            isConverting: false\n                        } : f));\n            } catch (error) {\n                console.error(\"預覽失敗:\", error);\n                setSelectedFiles((prev)=>prev.map((f)=>f.file.name === file.name && f.file.size === file.size ? {\n                            ...f,\n                            isConverting: false\n                        } : f));\n            }\n        }\n    };\n    const handleRemoveFile = (index)=>{\n        setSelectedFiles((prev)=>{\n            const file = prev[index];\n            if (file.previewUrl) {\n                URL.revokeObjectURL(file.previewUrl);\n            }\n            return prev.filter((_, i)=>i !== index);\n        });\n    };\n    const handleClearFiles = ()=>{\n        selectedFiles.forEach((f)=>{\n            if (f.previewUrl) URL.revokeObjectURL(f.previewUrl);\n        });\n        setSelectedFiles([]);\n    };\n    const formatFileSize = (bytes)=>{\n        if (bytes < 1024) return bytes + \" B\";\n        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + \" KB\";\n        return (bytes / (1024 * 1024)).toFixed(1) + \" MB\";\n    };\n    const getTotalSize = ()=>{\n        return selectedFiles.reduce((sum, f)=>sum + f.file.size, 0);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"px-6 py-4 border-t border-gray-200 bg-white\",\n        children: [\n            editingMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-2 px-3 py-2 bg-primary-50 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"w-4 h-4 text-primary-600\",\n                                fill: \"none\",\n                                viewBox: \"0 0 24 24\",\n                                stroke: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                    lineNumber: 253,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm text-primary-700\",\n                                children: \"編輯訊息\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 260,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 246,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleCancelEdit,\n                        className: \"text-sm text-primary-600 hover:text-primary-700\",\n                        children: \"取消\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 262,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                lineNumber: 245,\n                columnNumber: 9\n            }, this),\n            selectedFiles.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-3 p-3 bg-gray-50 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm text-gray-600\",\n                                children: [\n                                    \"已選擇 \",\n                                    selectedFiles.length,\n                                    \" 個檔案 (\",\n                                    formatFileSize(getTotalSize()),\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 274,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleClearFiles,\n                                className: \"text-xs text-red-500 hover:text-red-600\",\n                                children: \"全部移除\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap gap-2 max-h-40 overflow-y-auto\",\n                        children: selectedFiles.map((fileInfo, index)=>{\n                            var _fileInfo_file_name_split_pop;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative group\",\n                                children: [\n                                    fileInfo.isConverting ? // 轉換中\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 bg-gray-200 rounded-lg flex flex-col items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"animate-spin rounded-full h-5 w-5 border-2 border-primary-600 border-t-transparent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                            lineNumber: 291,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 290,\n                                        columnNumber: 19\n                                    }, this) : fileInfo.previewUrl ? // 圖片預覽\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: fileInfo.previewUrl,\n                                        alt: \"預覽\",\n                                        className: \"w-16 h-16 object-cover rounded-lg\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 295,\n                                        columnNumber: 19\n                                    }, this) : // 檔案圖示\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 bg-gray-200 rounded-lg flex flex-col items-center justify-center p-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5 text-gray-500\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                    lineNumber: 304,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 303,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500 truncate w-full text-center mt-1\",\n                                                children: (_fileInfo_file_name_split_pop = fileInfo.file.name.split(\".\").pop()) === null || _fileInfo_file_name_split_pop === void 0 ? void 0 : _fileInfo_file_name_split_pop.toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 306,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 302,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleRemoveFile(index),\n                                        className: \"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-3 h-3\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 318,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                            lineNumber: 317,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 313,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-1 rounded-b-lg truncate opacity-0 group-hover:opacity-100 transition-opacity\",\n                                        children: fileInfo.file.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 322,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 285,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                lineNumber: 271,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"flex items-end space-x-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                ref: inputRef,\n                                value: message,\n                                onChange: handleChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: selectedFiles.length > 0 ? \"新增說明文字（選填）...\" : \"輸入訊息...\",\n                                rows: 1,\n                                className: \"w-full px-4 py-3 bg-gray-100 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-primary-500 max-h-32\",\n                                style: {\n                                    minHeight: \"48px\",\n                                    height: message.split(\"\\n\").length > 1 ? \"auto\" : \"48px\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"absolute right-3 bottom-3 text-gray-400 hover:text-gray-600\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-6 h-6\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 348,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                    lineNumber: 347,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 346,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 331,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        ref: menuRef,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setShowAttachMenu(!showAttachMenu),\n                                className: \"p-3 rounded-full transition-colors \".concat(showAttachMenu ? \"bg-primary-100 text-primary-600\" : \"text-gray-400 hover:text-gray-600 hover:bg-gray-100\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-6 h-6\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 362,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                    lineNumber: 361,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 356,\n                                columnNumber: 11\n                            }, this),\n                            showAttachMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-full right-0 mb-2 bg-white rounded-xl shadow-lg border border-gray-200 py-2 min-w-[160px] z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>{\n                                            var _imageInputRef_current;\n                                            return (_imageInputRef_current = imageInputRef.current) === null || _imageInputRef_current === void 0 ? void 0 : _imageInputRef_current.click();\n                                        },\n                                        className: \"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-4 h-4 text-green-600\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                        lineNumber: 377,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                    lineNumber: 376,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 375,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"照片\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 380,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 370,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>{\n                                            var _fileInputRef_current;\n                                            return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                        },\n                                        className: \"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-4 h-4 text-blue-600\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                        lineNumber: 391,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                    lineNumber: 390,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 389,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"檔案\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                                lineNumber: 394,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                        lineNumber: 384,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 368,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: imageInputRef,\n                                type: \"file\",\n                                accept: \"image/*,.heic,.heif\",\n                                multiple: true,\n                                onChange: handleFileSelect,\n                                className: \"hidden\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 398,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: fileInputRef,\n                                type: \"file\",\n                                multiple: true,\n                                onChange: handleFileSelect,\n                                className: \"hidden\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 406,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 355,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"submit\",\n                        disabled: !message.trim() && selectedFiles.length === 0,\n                        className: \"p-3 rounded-full transition \".concat(message.trim() || selectedFiles.length > 0 ? \"bg-primary-600 text-white hover:bg-primary-700\" : \"bg-gray-300 text-gray-500 cursor-not-allowed\"),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-6 h-6\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            stroke: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                                lineNumber: 430,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                            lineNumber: 424,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                        lineNumber: 415,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n                lineNumber: 330,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhangyalan/Multi-person-chat-room/my-app/src/components/MessageInput.tsx\",\n        lineNumber: 243,\n        columnNumber: 5\n    }, this);\n}\n_s(MessageInput, \"K1VZUBO1gMxUmuY24f0lTe+4viA=\", false, function() {\n    return [\n        _providers_SocketProvider__WEBPACK_IMPORTED_MODULE_2__.useSocket\n    ];\n});\n_c = MessageInput;\nvar _c;\n$RefreshReg$(_c, \"MessageInput\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01lc3NhZ2VJbnB1dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVtRDtBQUNHO0FBaUJ2QyxTQUFTSSxhQUFhLEtBTWpCO1FBTmlCLEVBQ25DQyxhQUFhLEVBQ2JDLE1BQU0sRUFDTkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLFlBQVksRUFDTSxHQU5pQjs7SUFRbkMsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdULCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1UsVUFBVUMsWUFBWSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNZLGdCQUFnQkMsa0JBQWtCLEdBQUdiLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ2MsZUFBZUMsaUJBQWlCLEdBQUdmLCtDQUFRQSxDQUFvQixFQUFFO0lBQ3hFLE1BQU0sRUFBRWdCLFdBQVcsRUFBRUMsVUFBVSxFQUFFLEdBQUdoQixvRUFBU0E7SUFFN0MsTUFBTWlCLFdBQVduQiw2Q0FBTUEsQ0FBc0I7SUFDN0MsTUFBTW9CLGVBQWVwQiw2Q0FBTUEsQ0FBbUI7SUFDOUMsTUFBTXFCLGdCQUFnQnJCLDZDQUFNQSxDQUFtQjtJQUMvQyxNQUFNc0IsVUFBVXRCLDZDQUFNQSxDQUFpQjtJQUN2QyxNQUFNdUIsbUJBQW1CdkIsNkNBQU1BO0lBRS9CRCxnREFBU0EsQ0FBQztRQUNSLElBQUlRLGdCQUFnQjtnQkFFbEJZO1lBREFULFdBQVdIO2FBQ1hZLG9CQUFBQSxTQUFTSyxPQUFPLGNBQWhCTCx3Q0FBQUEsa0JBQWtCTSxLQUFLO1FBQ3pCO0lBQ0YsR0FBRztRQUFDbEI7S0FBZTtJQUVuQlIsZ0RBQVNBLENBQUM7UUFDUixNQUFNMkIscUJBQXFCLENBQUNDO1lBQzFCLElBQUlMLFFBQVFFLE9BQU8sSUFBSSxDQUFDRixRQUFRRSxPQUFPLENBQUNJLFFBQVEsQ0FBQ0QsTUFBTUUsTUFBTSxHQUFXO2dCQUN0RWYsa0JBQWtCO1lBQ3BCO1FB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Q3RFLE1BQUs7d0NBQ0x1RSxTQUFTO2dEQUFNbEc7b0RBQUFBLHdCQUFBQSxhQUFhSSxPQUFPLGNBQXBCSiw0Q0FBQUEsc0JBQXNCa0gsS0FBSzs7d0NBQzFDNUIsV0FBVTs7MERBRVYsOERBQUNEO2dEQUFJQyxXQUFVOzBEQUNiLDRFQUFDQztvREFBSUQsV0FBVTtvREFBd0JFLE1BQUs7b0RBQU9FLFFBQU87b0RBQWVELFNBQVE7OERBQy9FLDRFQUFDRTt3REFBS0MsZUFBYzt3REFBUUMsZ0JBQWU7d0RBQVFDLGFBQWE7d0RBQUdDLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7MERBR3pFLDhEQUFDQzswREFBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBDQUlaLDhEQUFDbUI7Z0NBQ0NULEtBQUt6RztnQ0FDTDBCLE1BQUs7Z0NBQ0x5RixRQUFPO2dDQUNQQyxRQUFRO2dDQUNSVixVQUFVdEQ7Z0NBQ1ZpQyxXQUFVOzs7Ozs7MENBRVosOERBQUM2QjtnQ0FDQ1QsS0FBSzFHO2dDQUNMMkIsTUFBSztnQ0FDTDBGLFFBQVE7Z0NBQ1JWLFVBQVV0RDtnQ0FDVmlDLFdBQVU7Ozs7Ozs7Ozs7OztrQ0FJZCw4REFBQ1c7d0JBQ0N0RSxNQUFLO3dCQUNMMkYsVUFBVSxDQUFDakksUUFBUTJDLElBQUksTUFBTXJDLGNBQWMwQixNQUFNLEtBQUs7d0JBQ3REaUUsV0FBVywrQkFJVixPQUhDakcsUUFBUTJDLElBQUksTUFBTXJDLGNBQWMwQixNQUFNLEdBQUcsSUFDckMsbURBQ0E7a0NBR04sNEVBQUNrRTs0QkFDQ0QsV0FBVTs0QkFDVkUsTUFBSzs0QkFDTEMsU0FBUTs0QkFDUkMsUUFBTztzQ0FFUCw0RUFBQ0M7Z0NBQ0NDLGVBQWM7Z0NBQ2RDLGdCQUFlO2dDQUNmQyxhQUFhO2dDQUNiQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2hCO0dBcGF3QmhIOztRQVljRCxnRUFBU0E7OztLQVp2QkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvTWVzc2FnZUlucHV0LnRzeD9kMTJiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVNvY2tldCB9IGZyb20gJ0AvcHJvdmlkZXJzL1NvY2tldFByb3ZpZGVyJ1xuXG5cbmludGVyZmFjZSBNZXNzYWdlSW5wdXRQcm9wcyB7XG4gIG9uU2VuZE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcsIHR5cGU/OiBzdHJpbmcsIGZpbGVzPzogRmlsZVtdKSA9PiB2b2lkICBcbiAgcm9vbUlkOiBzdHJpbmdcbiAgZWRpdGluZ01lc3NhZ2U6IHN0cmluZyB8IG51bGxcbiAgZWRpdGluZ0NvbnRlbnQ/OiBzdHJpbmdcbiAgb25DYW5jZWxFZGl0OiAoKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBGaWxlV2l0aFByZXZpZXcge1xuICBmaWxlOiBGaWxlXG4gIHByZXZpZXdVcmw6IHN0cmluZyB8IG51bGxcbiAgaXNDb252ZXJ0aW5nOiBib29sZWFuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1lc3NhZ2VJbnB1dCh7XG4gIG9uU2VuZE1lc3NhZ2UsXG4gIHJvb21JZCxcbiAgZWRpdGluZ01lc3NhZ2UsXG4gIGVkaXRpbmdDb250ZW50LFxuICBvbkNhbmNlbEVkaXQsXG59OiBNZXNzYWdlSW5wdXRQcm9wcykge1xuXG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbaXNUeXBpbmcsIHNldElzVHlwaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc2hvd0F0dGFjaE1lbnUsIHNldFNob3dBdHRhY2hNZW51XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc2VsZWN0ZWRGaWxlcywgc2V0U2VsZWN0ZWRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlV2l0aFByZXZpZXdbXT4oW10pXG4gIGNvbnN0IHsgc3RhcnRUeXBpbmcsIHN0b3BUeXBpbmcgfSA9IHVzZVNvY2tldCgpXG5cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbClcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGltYWdlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcbiAgY29uc3QgbWVudVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgdHlwaW5nVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dD4oKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVkaXRpbmdDb250ZW50KSB7XG4gICAgICBzZXRNZXNzYWdlKGVkaXRpbmdDb250ZW50KVxuICAgICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKVxuICAgIH1cbiAgfSwgW2VkaXRpbmdDb250ZW50XSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgaWYgKG1lbnVSZWYuY3VycmVudCAmJiAhbWVudVJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRTaG93QXR0YWNoTWVudShmYWxzZSlcbiAgICAgIH1cbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKVxuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpXG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNlbGVjdGVkRmlsZXMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgaWYgKGYucHJldmlld1VybCkgVVJMLnJldm9rZU9iamVjdFVSTChmLnByZXZpZXdVcmwpXG4gICAgICB9KVxuICAgIH1cbiAgfSwgW10pXG5cblxuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmIChzZWxlY3RlZEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpbGVzID0gc2VsZWN0ZWRGaWxlcy5tYXAoZiA9PiBmLmZpbGUpXG4gICAgICBjb25zdCBoYXNJbWFnZSA9IGZpbGVzLnNvbWUoZiA9PiBmLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgfHwgZi5uYW1lLnRvTG93ZXJDYXNlKCkubWF0Y2goL1xcLihoZWljfGhlaWYpJC8pKVxuICAgICAgb25TZW5kTWVzc2FnZShtZXNzYWdlLnRyaW0oKSwgaGFzSW1hZ2UgPyAnaW1hZ2UnIDogJ2ZpbGUnLCBmaWxlcylcbiAgICAgIGhhbmRsZUNsZWFyRmlsZXMoKVxuICAgICAgc2V0TWVzc2FnZSgnJylcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHJpbSgpKSB7XG4gICAgICBvblNlbmRNZXNzYWdlKG1lc3NhZ2UudHJpbSgpKVxuICAgICAgc2V0TWVzc2FnZSgnJylcbiAgICB9XG5cbiAgICBoYW5kbGVTdG9wVHlwaW5nKClcbiAgfVxuXG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGhhbmRsZVN1Ym1pdChlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVR5cGluZyA9ICgpID0+IHtcbiAgICBpZiAoIWlzVHlwaW5nKSB7XG4gICAgICBzZXRJc1R5cGluZyh0cnVlKVxuICAgICAgc3RhcnRUeXBpbmcocm9vbUlkKVxuICAgIH1cblxuICAgIGlmICh0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgfVxuXG4gICAgdHlwaW5nVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBoYW5kbGVTdG9wVHlwaW5nKClcbiAgICB9LCAyMDAwKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU3RvcFR5cGluZyA9ICgpID0+IHtcbiAgICBpZiAoaXNUeXBpbmcpIHtcbiAgICAgIHNldElzVHlwaW5nKGZhbHNlKVxuICAgICAgc3RvcFR5cGluZyhyb29tSWQpXG5cbiAgICAgIGlmICh0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHR5cGluZ1RpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBzZXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKVxuICAgIGhhbmRsZVR5cGluZygpXG4gIH1cblxuICBjb25zdCBoYW5kbGVDYW5jZWxFZGl0ID0gKCkgPT4ge1xuICAgIHNldE1lc3NhZ2UoJycpXG4gICAgb25DYW5jZWxFZGl0KClcbiAgfVxuICBjb25zdCBjb252ZXJ0SGVpYyA9IGFzeW5jIChibG9iOiBCbG9iKTogUHJvbWlzZTxCbG9iPiA9PiB7XG4gICAgY29uc3QgaGVpYzJhbnkgPSAoYXdhaXQgaW1wb3J0KCdoZWljMmFueScpKS5kZWZhdWx0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGVpYzJhbnkoe1xuICAgICAgYmxvYixcbiAgICAgIHRvVHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgcXVhbGl0eTogMC45XG4gICAgfSlcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyZXN1bHQpID8gcmVzdWx0WzBdIDogcmVzdWx0XG4gIH1cblxuXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3QgPSBhc3luYyAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzXG4gICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgc2V0U2hvd0F0dGFjaE1lbnUoZmFsc2UpXG5cbiAgICBsZXQgdG90YWxTaXplID0gc2VsZWN0ZWRGaWxlcy5yZWR1Y2UoKHN1bSwgZikgPT4gc3VtICsgZi5maWxlLnNpemUsIDApXG4gICAgY29uc3QgbmV3RmlsZXM6IEZpbGVXaXRoUHJldmlld1tdID0gW11cblxuICAgIGNvbnN0IGZpbGVBcnJheSA9IEFycmF5LmZyb20oZmlsZXMpXG5cbiAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZUFycmF5KSB7XG4gICAgICBpZiAoZmlsZS5zaXplID4gMjAgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBhbGVydChgJHtmaWxlLm5hbWV9IOi2hemBjiAyME1C77yM5bey6Lez6YGOYClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdG90YWxTaXplICs9IGZpbGUuc2l6ZVxuICAgICAgaWYgKHRvdGFsU2l6ZSA+IDUwICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgYWxlcnQoJ+e4veaqlOahiOWkp+Wwj+S4jeiDvei2hemBjiA1ME1CJylcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy4nKS5wb3AoKVxuICAgICAgY29uc3QgaXNIZWljID0gZXh0ID09PSAnaGVpYycgfHwgZXh0ID09PSAnaGVpZidcbiAgICAgIGNvbnN0IGlzSW1hZ2UgPSBmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgfHwgaXNIZWljXG5cbiAgICAgIGNvbnN0IGZpbGVXaXRoUHJldmlldzogRmlsZVdpdGhQcmV2aWV3ID0ge1xuICAgICAgICBmaWxlLFxuICAgICAgICBwcmV2aWV3VXJsOiBudWxsLFxuICAgICAgICBpc0NvbnZlcnRpbmc6IGlzSW1hZ2VcbiAgICAgIH1cbiAgICAgIG5ld0ZpbGVzLnB1c2goZmlsZVdpdGhQcmV2aWV3KVxuICAgIH1cblxuICAgIGUudGFyZ2V0LnZhbHVlID0gJydcblxuICAgIGlmIChuZXdGaWxlcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgc2V0U2VsZWN0ZWRGaWxlcyhwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdGaWxlc10pXG5cbiAgICBmb3IgKGNvbnN0IGZpbGVJbmZvIG9mIG5ld0ZpbGVzKSB7XG4gICAgICBjb25zdCBmaWxlID0gZmlsZUluZm8uZmlsZVxuICAgICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy4nKS5wb3AoKVxuICAgICAgY29uc3QgaXNIZWljID0gZXh0ID09PSAnaGVpYycgfHwgZXh0ID09PSAnaGVpZidcblxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHByZXZpZXdVcmw6IHN0cmluZyB8IG51bGwgPSBudWxsXG5cbiAgICAgICAgaWYgKGlzSGVpYykge1xuICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZEJsb2IgPSBhd2FpdCBjb252ZXJ0SGVpYyhmaWxlKVxuICAgICAgICAgIHByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnZlcnRlZEJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgICAgcHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFNlbGVjdGVkRmlsZXMocHJldiA9PlxuICAgICAgICAgIHByZXYubWFwKGYgPT5cbiAgICAgICAgICAgIGYuZmlsZS5uYW1lID09PSBmaWxlLm5hbWUgJiYgZi5maWxlLnNpemUgPT09IGZpbGUuc2l6ZVxuICAgICAgICAgICAgICA/IHsgLi4uZiwgcHJldmlld1VybCwgaXNDb252ZXJ0aW5nOiBmYWxzZSB9XG4gICAgICAgICAgICAgIDogZlxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign6aCQ6Ka95aSx5pWXOicsIGVycm9yKVxuICAgICAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXYgPT5cbiAgICAgICAgICBwcmV2Lm1hcChmID0+XG4gICAgICAgICAgICBmLmZpbGUubmFtZSA9PT0gZmlsZS5uYW1lICYmIGYuZmlsZS5zaXplID09PSBmaWxlLnNpemVcbiAgICAgICAgICAgICAgPyB7IC4uLmYsIGlzQ29udmVydGluZzogZmFsc2UgfVxuICAgICAgICAgICAgICA6IGZcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGNvbnN0IGhhbmRsZVJlbW92ZUZpbGUgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIHNldFNlbGVjdGVkRmlsZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gcHJldltpbmRleF1cbiAgICAgIGlmIChmaWxlLnByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChmaWxlLnByZXZpZXdVcmwpXG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVDbGVhckZpbGVzID0gKCkgPT4ge1xuICAgIHNlbGVjdGVkRmlsZXMuZm9yRWFjaChmID0+IHtcbiAgICAgIGlmIChmLnByZXZpZXdVcmwpIFVSTC5yZXZva2VPYmplY3RVUkwoZi5wcmV2aWV3VXJsKVxuICAgIH0pXG4gICAgc2V0U2VsZWN0ZWRGaWxlcyhbXSlcbiAgfVxuXG4gIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKGJ5dGVzOiBudW1iZXIpID0+IHtcbiAgICBpZiAoYnl0ZXMgPCAxMDI0KSByZXR1cm4gYnl0ZXMgKyAnIEInXG4gICAgaWYgKGJ5dGVzIDwgMTAyNCAqIDEwMjQpIHJldHVybiAoYnl0ZXMgLyAxMDI0KS50b0ZpeGVkKDEpICsgJyBLQidcbiAgICByZXR1cm4gKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKSArICcgTUInXG4gIH1cblxuICBjb25zdCBnZXRUb3RhbFNpemUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHNlbGVjdGVkRmlsZXMucmVkdWNlKChzdW0sIGYpID0+IHN1bSArIGYuZmlsZS5zaXplLCAwKVxuICB9XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJweC02IHB5LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGJnLXdoaXRlXCI+XG4gICAgICB7ZWRpdGluZ01lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yIHB4LTMgcHktMiBiZy1wcmltYXJ5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcHJpbWFyeS02MDBcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICAgICAgZD1cIk0xMSA1SDZhMiAyIDAgMDAtMiAydjExYTIgMiAwIDAwMiAyaDExYTIgMiAwIDAwMi0ydi01bS0xLjQxNC05LjQxNGEyIDIgMCAxMTIuODI4IDIuODI4TDExLjgyOCAxNUg5di0yLjgyOGw4LjU4Ni04LjU4NnpcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHJpbWFyeS03MDBcIj7nt6jovK/oqIrmga88L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsRWRpdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wcmltYXJ5LTYwMCBob3Zlcjp0ZXh0LXByaW1hcnktNzAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDlj5bmtog8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgey8qIOWkmuaqlOahiOmgkOimvSAqL31cbiAgICAgIHtzZWxlY3RlZEZpbGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTMgcC0zIGJnLWdyYXktNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIHsvKiDmqJnpoYzliJcgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIOW3sumBuOaThyB7c2VsZWN0ZWRGaWxlcy5sZW5ndGh9IOWAi+aqlOahiCAoe2Zvcm1hdEZpbGVTaXplKGdldFRvdGFsU2l6ZSgpKX0pXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyRmlsZXN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTYwMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOWFqOmDqOenu+mZpFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIG1heC1oLTQwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAge3NlbGVjdGVkRmlsZXMubWFwKChmaWxlSW5mbywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgIHtmaWxlSW5mby5pc0NvbnZlcnRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAvLyDovYnmj5vkuK1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWdyYXktMjAwIHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNSB3LTUgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnktNjAwIGJvcmRlci10LXRyYW5zcGFyZW50XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogZmlsZUluZm8ucHJldmlld1VybCA/IChcbiAgICAgICAgICAgICAgICAgIC8vIOWclueJh+mgkOimvVxuICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICBzcmM9e2ZpbGVJbmZvLnByZXZpZXdVcmx9XG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIumgkOimvVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgaC0xNiBvYmplY3QtY292ZXIgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAvLyDmqpTmoYjlnJbnpLpcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWdyYXktMjAwIHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyYXktNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTkgMTJoNm0tNiA0aDZtMiA1SDdhMiAyIDAgMDEtMi0yVjVhMiAyIDAgMDEyLTJoNS41ODZhMSAxIDAgMDEuNzA3LjI5M2w1LjQxNCA1LjQxNGExIDEgMCAwMS4yOTMuNzA3VjE5YTIgMiAwIDAxLTIgMnpcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHRydW5jYXRlIHctZnVsbCB0ZXh0LWNlbnRlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2ZpbGVJbmZvLmZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpPy50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIOenu+mZpOaMiemIlSAqL31cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVGaWxlKGluZGV4KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMSAtcmlnaHQtMSB3LTUgaC01IGJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjay82MCB0ZXh0LXdoaXRlIHRleHQteHMgcC0xIHJvdW5kZWQtYi1sZyB0cnVuY2F0ZSBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5XCI+XG4gICAgICAgICAgICAgICAgICB7ZmlsZUluZm8uZmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBzcGFjZS14LTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17c2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwID8gXCLmlrDlop7oqqrmmI7mloflrZfvvIjpgbjloavvvIkuLi5cIiA6IFwi6Ly45YWl6KiK5oGvLi4uXCJ9XG4gICAgICAgICAgICByb3dzPXsxfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1ncmF5LTEwMCByb3VuZGVkLTJ4bCByZXNpemUtbm9uZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgbWF4LWgtMzJcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWluSGVpZ2h0OiAnNDhweCcsXG4gICAgICAgICAgICAgIGhlaWdodDogbWVzc2FnZS5zcGxpdCgnXFxuJykubGVuZ3RoID4gMSA/ICdhdXRvJyA6ICc0OHB4JyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgYm90dG9tLTMgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTZcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE0LjgyOCAxNC44MjhhNCA0IDAgMDEtNS42NTYgME05IDEwaC4wMU0xNSAxMGguMDFNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6XCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuXG4gICAgICAgIHsvKiDpmYTku7bmjInpiJUgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIiByZWY9e21lbnVSZWZ9PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0F0dGFjaE1lbnUoIXNob3dBdHRhY2hNZW51KX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnMgJHtzaG93QXR0YWNoTWVudSA/ICdiZy1wcmltYXJ5LTEwMCB0ZXh0LXByaW1hcnktNjAwJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDAnfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xNS4xNzIgN2wtNi41ODYgNi41ODZhMiAyIDAgMTAyLjgyOCAyLjgyOGw2LjQxNC02LjU4NmE0IDQgMCAwMC01LjY1Ni01LjY1NmwtNi40MTUgNi41ODVhNiA2IDAgMTA4LjQ4NiA4LjQ4NkwyMC41IDEzXCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgey8qIOmZhOS7tumBuOWWriAqL31cbiAgICAgICAgICB7c2hvd0F0dGFjaE1lbnUgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBweS0yIG1pbi13LVsxNjBweF0gei0xMFwiPlxuICAgICAgICAgICAgICB7Lyog54Wn54mHICovfVxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaW1hZ2VJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIuNSB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWdyZWVuLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyZWVuLTYwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCAxNmw0LjU4Ni00LjU4NmEyIDIgMCAwMTIuODI4IDBMMTYgMTZtLTItMmwxLjU4Ni0xLjU4NmEyIDIgMCAwMTIuODI4IDBMMjAgMTRtLTYtNmguMDFNNiAyMGgxMmEyIDIgMCAwMDItMlY2YTIgMiAwIDAwLTItMkg2YTIgMiAwIDAwLTIgMnYxMmEyIDIgMCAwMDIgMnpcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4+54Wn54mHPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICB7Lyog5qqU5qGIICovfVxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMi41IHRleHQtbGVmdCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctYmx1ZS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ibHVlLTYwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSAxMmg2bS02IDRoNm0yIDVIN2EyIDIgMCAwMS0yLTJWNWEyIDIgMCAwMTItMmg1LjU4NmExIDEgMCAwMS43MDcuMjkzbDUuNDE0IDUuNDE0YTEgMSAwIDAxLjI5My43MDdWMTlhMiAyIDAgMDEtMiAyelwiIC8+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3Bhbj7mqpTmoYg8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHJlZj17aW1hZ2VJbnB1dFJlZn1cbiAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLyosLmhlaWMsLmhlaWZcIlxuICAgICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgcmVmPXtmaWxlSW5wdXRSZWZ9XG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICBtdWx0aXBsZVxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVTZWxlY3R9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBkaXNhYmxlZD17IW1lc3NhZ2UudHJpbSgpICYmIHNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwfVxuICAgICAgICAgIGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbiAke1xuICAgICAgICAgICAgbWVzc2FnZS50cmltKCkgfHwgc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktNjAwIHRleHQtd2hpdGUgaG92ZXI6YmctcHJpbWFyeS03MDAnXG4gICAgICAgICAgICAgIDogJ2JnLWdyYXktMzAwIHRleHQtZ3JheS01MDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy02IGgtNlwiXG4gICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgICAgICAgICBkPVwiTTEyIDE5bDkgMi05LTE4LTkgMTggOS0yem0wIDB2LThcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gIClcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VTb2NrZXQiLCJNZXNzYWdlSW5wdXQiLCJvblNlbmRNZXNzYWdlIiwicm9vbUlkIiwiZWRpdGluZ01lc3NhZ2UiLCJlZGl0aW5nQ29udGVudCIsIm9uQ2FuY2VsRWRpdCIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsInNob3dBdHRhY2hNZW51Iiwic2V0U2hvd0F0dGFjaE1lbnUiLCJzZWxlY3RlZEZpbGVzIiwic2V0U2VsZWN0ZWRGaWxlcyIsInN0YXJ0VHlwaW5nIiwic3RvcFR5cGluZyIsImlucHV0UmVmIiwiZmlsZUlucHV0UmVmIiwiaW1hZ2VJbnB1dFJlZiIsIm1lbnVSZWYiLCJ0eXBpbmdUaW1lb3V0UmVmIiwiY3VycmVudCIsImZvY3VzIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiZiIsInByZXZpZXdVcmwiLCJVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJsZW5ndGgiLCJmaWxlcyIsIm1hcCIsImZpbGUiLCJoYXNJbWFnZSIsInNvbWUiLCJ0eXBlIiwic3RhcnRzV2l0aCIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwidHJpbSIsImhhbmRsZUNsZWFyRmlsZXMiLCJoYW5kbGVTdG9wVHlwaW5nIiwiaGFuZGxlS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwiaGFuZGxlVHlwaW5nIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImhhbmRsZUNoYW5nZSIsInZhbHVlIiwiaGFuZGxlQ2FuY2VsRWRpdCIsImNvbnZlcnRIZWljIiwiYmxvYiIsImhlaWMyYW55IiwiZGVmYXVsdCIsInJlc3VsdCIsInRvVHlwZSIsInF1YWxpdHkiLCJBcnJheSIsImlzQXJyYXkiLCJoYW5kbGVGaWxlU2VsZWN0IiwidG90YWxTaXplIiwicmVkdWNlIiwic3VtIiwic2l6ZSIsIm5ld0ZpbGVzIiwiZmlsZUFycmF5IiwiZnJvbSIsImFsZXJ0IiwiZXh0Iiwic3BsaXQiLCJwb3AiLCJpc0hlaWMiLCJpc0ltYWdlIiwiZmlsZVdpdGhQcmV2aWV3IiwiaXNDb252ZXJ0aW5nIiwicHVzaCIsInByZXYiLCJmaWxlSW5mbyIsImNvbnZlcnRlZEJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVSZW1vdmVGaWxlIiwiaW5kZXgiLCJmaWx0ZXIiLCJfIiwiaSIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJ0b0ZpeGVkIiwiZ2V0VG90YWxTaXplIiwiZGl2IiwiY2xhc3NOYW1lIiwic3ZnIiwiZmlsbCIsInZpZXdCb3giLCJzdHJva2UiLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJpbWciLCJzcmMiLCJhbHQiLCJ0b1VwcGVyQ2FzZSIsImZvcm0iLCJvblN1Ym1pdCIsInRleHRhcmVhIiwicmVmIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsInJvd3MiLCJzdHlsZSIsIm1pbkhlaWdodCIsImhlaWdodCIsImNsaWNrIiwiaW5wdXQiLCJhY2NlcHQiLCJtdWx0aXBsZSIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/MessageInput.tsx\n"));

/***/ })

});